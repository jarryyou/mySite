# 强制缓存与协商缓存
在HTTP协议中，缓存是一种重要的机制，用于减少网络传输的数据量，提高页面加载速度和用户体验。HTTP缓存分为两种主要类型：强制缓存和协商缓存。

## :rocket:强制缓存（Strong Cache）
强制缓存是指客户端直接从本地缓存中获取资源，而无需向服务器发送请求。强制缓存通过HTTP头部中的Cache-Control和Expires字段进行控制。

**Cache-Control：**  
这是一个HTTP/1.1头部字段，提供了更细粒度的缓存控制。常见的指令包括max-age（资源在缓存中有效的最大时间）、no-cache（不进行强制缓存，但可以进行协商缓存）、no-store（不缓存任何内容）等。    
**Expires：**  
这是一个HTTP/1.0头部字段，指定了资源的过期时间。客户端会对比当前时间和Expires字段的时间，以确定资源是否过期。
如果资源在强制缓存的有效期内，客户端会直接从缓存中获取资源，而不会向服务器发送请求。这样可以显著减少网络传输的数据量和服务器负载。

## :rocket:协商缓存（Weak Cache）
协商缓存是指客户端向服务器发送请求，服务器根据资源的最新状态决定是否返回资源或指示客户端使用缓存中的资源。协商缓存通过HTTP头部中的Last-Modified和ETag字段进行控制。

**Last-Modified：**
服务器在响应头部中包含此字段，表示资源的最后修改时间。客户端在后续请求中可以通过If-Modified-Since头部字段，询问资源是否在此时间之后被修改。
**ETag：**
服务器为资源生成的一个唯一标识符，用于更精确地控制缓存。客户端在后续请求中可以通过If-None-Match头部字段，询问资源是否与该标识符匹配。
如果资源未发生变化，服务器会返回304状态码（Not Modified），指示客户端使用缓存中的资源。这样可以减少不必要的数据传输，提高效率。